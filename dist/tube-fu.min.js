/*!
 * TubeFu.js 0.0.1 - A lightweight, mobile-friendly, performance-oriented alternative to embed YouTube videos.
 * Copyright (c) 2016 Donny West - https://github.com/dwest-teo/tube-fu
 * License: MIT
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.TubeFu=t()}}(function(){return function t(e,n,i){function s(l,a){if(!n[l]){if(!e[l]){var r="function"==typeof require&&require;if(!a&&r)return r(l,!0);if(o)return o(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[l]={exports:{}};e[l][0].call(c.exports,function(t){var n=e[l][1][t];return s(n?n:t)},c,c.exports,t,e,n,i)}return n[l].exports}for(var o="function"==typeof require&&require,l=0;l<i.length;l++)s(i[l]);return s}({1:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t),this.options={selector:e.selector||".tube-fu",injectStyles:e.injectStyles||!0,containerClass:e.containerClass||".tube-fu",iframeClass:e.iframeClass||".tube-fu-active",playButtonClass:e.playButtonClass||".tube-fu-play-button",ytModestbranding:e.ytModestbranding||1,ytShowinfo:e.ytShowinfo||0,ytControls:e.ytControls||0,ytVq:e.ytVq||"hd720"},this.el="string"==typeof this.options.selector?document.querySelector(this.options.selector):this.options.selector,this.aspectRatio=this._calcAspectRatio(),this.thumbnail=this._genThumbnail(),this.playButton=this._genPlayButton(),this.placeHolderId=this._genPlaceHolderId(),this.placeHolderEl=this._genPlaceHolder(),this._init()}return s(t,[{key:"_init",value:function(){var t=this;this.options.injectStyles?this._injectCss():this._insertElsOnly(),this.el.addEventListener("click",function(e){t._insertFrame()})}},{key:"_genPlaceHolderId",value:function(){var t="tube-fu-ph-",e=Math.floor(1e3*Math.random()+1),n=""+t+e;return n}},{key:"_genPlaceHolder",value:function(){var t=this.options.iframeClass.replace(/\./g,""),e=document.createElement("div");return e.classList.add(t),e.setAttribute("id",this.placeHolderId),e}},{key:"_calcAspectRatio",value:function(){var t=this.el.getAttribute("height"),e=this.el.getAttribute("width");return t/e*100}},{key:"_insertElsOnly",value:function(){this.el.style.background="url("+this.thumbnail+") no-repeat center center",this.el.appendChild(this.playButton)}},{key:"_injectCss",value:function(){var t=document.createElement("style");t.appendChild(document.createTextNode("")),document.head.appendChild(t);var e=t.sheet,n=this.options.playButtonClass+":hover",i=this.options.playButtonClass+"-clicked",s=this._styleContainer(),o=this._styleFrame(),l=this._stylePlayButton(),a=this._stylePlayButtonHover(),r=this._stylePlayButtonClicked();this._addCssRule(e,this.options.containerClass,s),this._addCssRule(e,this.options.iframeClass,o),this._addCssRule(e,this.options.playButtonClass,l),this._addCssRule(e,n,a),this._addCssRule(e,i,r),this._buildContainer()}},{key:"_addCssRule",value:function(t,e,n,i){i=i||0,t.insertRule(e+"{"+n+"}",i)}},{key:"_buildContainer",value:function(){this.el.appendChild(this.placeHolderEl),this.el.appendChild(this.playButton)}},{key:"_styleContainer",value:function(){var t="position: relative",e="padding-bottom: "+this.aspectRatio+"%",n="padding-top: 25px",i="width: 100%",s="height: 0",o="background: url("+this.thumbnail+") no-repeat center center",l="background-size: cover";return t+";\n      "+e+";\n      "+n+";\n      "+i+";\n      "+s+";\n      "+o+";\n      "+l+";"}},{key:"_insertFrame",value:function(){var t=this.options.iframeClass.replace(/\./g,""),e=this.options.playButtonClass.replace(/\./g,""),n=e+"-clicked",i=document.createElement("iframe"),s=this.el.getAttribute("src"),o="?autoplay=1&autohide=1",l="modestbranding="+this.options.ytModestbranding+"&showinfo="+this.options.ytShowinfo+"&controls="+this.options.ytControls+"&vq="+this.options.ytVq;i.classList.add(t),i.setAttribute("src",""+s+o+l),i.setAttribute("frameborder","0"),i.setAttribute("allowfullscreen",""),this.placeHolderEl=this.el.replaceChild(i,this.placeHolderEl),this.playButton.classList.add(n)}},{key:"_styleFrame",value:function(){var t="position: absolute",e="top: 0",n="left: 0",i="width: 100%",s="height: 100%",o="z-index: 888";return t+";\n      "+e+";\n      "+n+";\n      "+i+";\n      "+s+";\n      "+o+";"}},{key:"_genThumbnail",value:function(){var t=this.el.getAttribute("src"),e=t.substr(t.lastIndexOf("/")+1),n="//i.ytimg.com/vi/"+e+"/0.jpg";return n}},{key:"_genPlayButton",value:function(){var t=this.options.playButtonClass.replace(/\./g,""),e=document.createElement("div");e.classList.add(t);var n='<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="64px" height="64px" viewBox="0 0 64 64"><g><path fill="#e8e8e8" d="M32,1C14.9,1,1,14.9,1,32s13.9,31,31,31s31-13.9,31-31S49.1,1,32,1z M42.6,32.8l-20,14 C22.4,46.9,22.2,47,22,47c-0.2,0-0.3,0-0.5-0.1C21.2,46.7,21,46.4,21,46V18c0-0.4,0.2-0.7,0.5-0.9c0.3-0.2,0.7-0.1,1,0.1l20,14 c0.3,0.2,0.4,0.5,0.4,0.8S42.8,32.6,42.6,32.8z"></path></g></svg>',i=window.btoa(n);return e.style.background='url("data:image/svg+xml;base64,'+i+'") no-repeat 50%',e}},{key:"_stylePlayButton",value:function(){var t="position: absolute",e="top: 0",n="left: 0",i="width: 100%",s="height: 100%",o="opacity: .8",l="transition: opacity .2s",a="z-index: 999";return t+";\n      "+e+";\n      "+n+";\n      "+i+";\n      "+s+";\n      "+o+";\n      "+l+";\n      "+a+";"}},{key:"_stylePlayButtonHover",value:function(){var t="opacity: 1",e="cursor: pointer";return t+"; "+e+";"}},{key:"_stylePlayButtonClicked",value:function(){var t="visibility: hidden",e="pointer-events: none";return t+"; "+e+";"}}]),t}();n["default"]=o,e.exports=n["default"]},{}]},{},[1])(1)});